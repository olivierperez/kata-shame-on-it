# Kata Shame-on-it

## :family: Introduction

J'ai appris à utiliser les freins de mon vélo en descente, et à ne pas utiliser seulement le frein
avant dans ces conditions pour éviter me faire catapulter. J'ai appris à ne pas énerver une personne
qui tient un chat dans ses bras. J'ai appris à me positionner dans un lit pliable de façon à ne pas
laisser le lit se replier sur moi. J'ai même appris à ne pas manger les limaces.

Vous allez me dire "Heureusement que t'as appris tout ça !", et vous avez raison. Et j'ai eu la
chance de grandir dans une famille assez grande pour laisser mes frères et soeurs faire toutes ces
erreurs, et pour en tirer l'enseignement nécessaire afin ne pas les copier.

J'aime me dire que c'est aussi une des façons de progresser dans l'art du développement. Au lieu de
sauter à la gorger de mes collègues adorés, je préfère me nourrir de leurs erreurs. Dans ce Kata
nous verons un condensé de ce que vous pouvez rencontrer dans n'importe quel projet.

L'idée général est de repartir avec plein de bonnes idées à mettre en place dès demain.

**Nous allons regarder du code d'un autre développeur et essayer d'en tirer des enseignements.**

Gardez à l'esprit que le développeur n'a (sûrement) pas fait exprès d'écrire du code sous forme
d'énigmes. Il a produit du code à un moment donné, dans des circonstances précises, avec
l'expérience qui était la sienne à ce moment-là. Il fera mieux la prochaine fois, c'est certain.

Bref, on peut critiquer vivement un code tout en restant dans le respect de celui qui l'a écrit (coeurs sur lui).

## :information_source: Organisation d'une session

### :books: Mise en place (10 minutes)

Former des groupes de 2 ou 3 développeurs.

L'organisateur distribue à chaque groupe de participants un (ou plusieurs) bout(s) de code à
analyser ([snippets](/kotlin/snippets/)). L'idée est que chaque groupe ait des snippets
différents.

Idée : _Imprimer les snippets sur des feuilles A5 voire A6._

### :mag_right: Déroulement du kata (10-15 minutes par snippets)

Un fois les snippets distribués, chaque groupe peut commencer son analyse. L'analyse doit porter
sur la "propreté" du code. La notion de propreté est plutôt relative à chacun, il faut donc se
mettre d'accord entre participants du même groupe sur les choses qui clochent.

Une fois les saletés identifiées, il faut proposer 1, 2 ou 3 alternatives différentes dont au moins
une meilleure que le snippet d'origine.

### :mega: Mise en commun (5 minutes par snippets)

Après quelques minutes le groupe doit présenter le résultat de son travail à tous les participants.
Le compte-rendu doit contenir :
- l'analyse de ce qui cloche;
- les alternatives proposées.

Après restitution de chaque snippets, on peut prendre quelques minutes pour débattre des solutions
proposées.

## :memo: Aide pour les plus débutants

Pour détecter un code qui mériterait d'être retravaillé il y a quelques questions qui peuvent
orienter la recherche :
- Est-ce qu'il y a du code dupliqué ? Ou une structure de code dupliquée ?
- Est-ce qu'il y a un bout de code qui nécessite d'être relu plusieurs fois pour être compris ?
- Est-ce que toucher à un bout de code me semble risqué ?
- Est-ce qu'un bout de code me chagrine ?

Il ne s'agit pas là d'une liste exaustive, il y a bien d'autres questions à se poser. Toutefois
je pense qu'elles vous aideront à débusquer les premiers pièges.


#English

## :family: Introduction

I learned how to use the brakes on my downhill bike, and not just use the brake
before under these conditions to avoid catapulting me. I learned not to annoy a person
who holds a cat in his arms. I learned to position myself in a foldable bed so as not to
let the bed fall back on me. I even learned not to eat slugs.

You're going to tell me "Thank goodness you learned all that!", And you're right. And I had the
chance to grow up in a family big enough to let my brothers and sisters do all these
errors, and to learn from them so as not to copy them.

I like to tell myself that it is also one of the ways to progress in the art of development. Instead of
to jump to the throat of my beloved colleagues, I prefer to feed on their mistakes. In this Kata
we will see a summary of what you can meet in any project.

The general idea is to leave with lots of good ideas to put in place tomorrow.

**We will look at another developer's code and try to learn from it.**

Keep in mind that the developer has (probably) not done on purpose to write form code
puzzles. He produced code at some point, under specific circumstances, with
the experience that was hers at that time. He'll do better next time, that's for sure.

In short, we can strongly criticize a code while remaining in the respect of the one who wrote (hearts on him).

## :information_source: Organization of a session

### :books: Set up (10 minutes)

Form groups of 2 or 3 developers.

The organizer distributes to each group of participants one (or more) end (s) of code to
analyze ([snippets] (/ kotlin / snippets /)). The idea is that each group has snippets
different.

Idea: _Print the snippets on sheets A5 or A6._

### :mag_right: Running the kata (10-15 minutes by snippets)

Once the snippets are distributed, each group can begin their analysis. The analysis must be
on the "cleanliness" of the code. The concept of cleanliness is rather relative to everyone, so we have to
agree between participants in the same group on things that are wrong.

Once the dirt has been identified, it is necessary to propose 1, 2 or 3 different alternatives of which at least
better than the original snippet.

### :mega: Pooling (5 minutes by snippets)

After a few minutes the group must present the result of their work to all participants.
The report must contain:
- the analysis of what is wrong;
- the proposed alternatives.

After restitution of each snippets, we can take a few minutes to discuss solutions
proposed.

## :memo: Help for the most beginners

To detect a code that deserves to be reworked there are some questions that can
guide research:
- Is there duplicate code? Or a duplicate code structure?
- Is there a piece of code that needs to be re-read several times to be understood?
- Does touching a piece of code seem risky?
- Is there a piece of code that annoys me?

This is not an exaustive list, there are many more questions to ask. However
I think they will help you flush out the first pitfalls.
